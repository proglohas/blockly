<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>題目列表</title>
<style>
  body { font-family: sans-serif; margin: 20px; }
  h1 { margin-bottom: 10px; }
  ul { list-style: none; padding: 0; }
  li { margin: 5px 0; }
  a { text-decoration: none; color: #007bff; }
  a:hover { text-decoration: underline; }
</style>
</head>
<body>

<h1>題目列表</h1>
<ul id="problemList">
  <!-- 題目列表會由 JS 填入 -->
</ul>

<script>
  // 讀 problemset.xml
  fetch('../problemset.xml')
    .then(response => response.text())
    .then(str => (new window.DOMParser()).parseFromString(str, "text/xml"))
    .then(data => {
      const problems = data.getElementsByTagName('problem');
      const list = document.getElementById('problemList');
      for(let i=0; i<problems.length; i++){
        const id = problems[i].getElementsByTagName('id')[0].textContent;
        const name = problems[i].getElementsByTagName('name')[0].textContent;

        // 建立超連結
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.textContent = `${id} - ${name}`;
        a.href = `test.html?input=set/${id}.in&answer=set/${id}.out`;
        li.appendChild(a);
        list.appendChild(li);
      }
    })
    .catch(err => console.error("讀取 XML 失敗:", err));
</script>

</body>
</html>
